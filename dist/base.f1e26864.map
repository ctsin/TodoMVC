{"version":3,"sources":["js\\base.js"],"names":["_","defaults","object","argsIndex","argsLength","arguments","length","iterable","key","templateSettings","evaluate","interpolate","escape","noMatch","escapes","escaper","template","text","data","settings","render","matcher","RegExp","source","join","index","replace","match","offset","slice","variable","Function","e","call","redirect","location","hostname","href","findRoot","base","indexOf","substr","getFile","file","callback","host","console","info","xhr","XMLHttpRequest","open","send","onload","status","responseText","Learn","learnJSON","config","framework","JSON","parse","templates","todomvc","document","querySelector","dataset","backend","frameworkJSON","issueLabel","append","fetchIssueCount","prototype","opts","aside","createElement","innerHTML","className","sourceLinks","heading","firstElementChild","sourceLink","lastElementChild","getAttribute","setAttribute","lastIndexOf","outerHTML","demoLinks","querySelectorAll","Array","forEach","demoLink","body","trim","insertAdjacentHTML","issueLink","getElementById","url","parsedResponse","target","count","style","display"],"mappings":"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","file":"base.f1e26864.map","sourceRoot":"..\\src","sourcesContent":["(function() {\n  \"use strict\";\n\n  /* jshint ignore:start */\n  // Underscore's Template Module\n  // Courtesy of underscorejs.org\n  var _ = (function(_) {\n    _.defaults = function(object) {\n      if (!object) {\n        return object;\n      }\n      for (\n        var argsIndex = 1, argsLength = arguments.length;\n        argsIndex < argsLength;\n        argsIndex++\n      ) {\n        var iterable = arguments[argsIndex];\n        if (iterable) {\n          for (var key in iterable) {\n            if (object[key] == null) {\n              object[key] = iterable[key];\n            }\n          }\n        }\n      }\n      return object;\n    };\n\n    // By default, Underscore uses ERB-style template delimiters, change the\n    // following template settings to use alternative delimiters.\n    _.templateSettings = {\n      evaluate: /<%([\\s\\S]+?)%>/g,\n      interpolate: /<%=([\\s\\S]+?)%>/g,\n      escape: /<%-([\\s\\S]+?)%>/g\n    };\n\n    // When customizing `templateSettings`, if you don't want to define an\n    // interpolation, evaluation or escaping regex, we need one that is\n    // guaranteed not to match.\n    var noMatch = /(.)^/;\n\n    // Certain characters need to be escaped so that they can be put into a\n    // string literal.\n    var escapes = {\n      \"'\": \"'\",\n      \"\\\\\": \"\\\\\",\n      \"\\r\": \"r\",\n      \"\\n\": \"n\",\n      \"\\t\": \"t\",\n      \"\\u2028\": \"u2028\",\n      \"\\u2029\": \"u2029\"\n    };\n\n    var escaper = /\\\\|'|\\r|\\n|\\t|\\u2028|\\u2029/g;\n\n    // JavaScript micro-templating, similar to John Resig's implementation.\n    // Underscore templating handles arbitrary delimiters, preserves whitespace,\n    // and correctly escapes quotes within interpolated code.\n    _.template = function(text, data, settings) {\n      var render;\n      settings = _.defaults({}, settings, _.templateSettings);\n\n      // Combine delimiters into one regular expression via alternation.\n      var matcher = new RegExp(\n        [\n          (settings.escape || noMatch).source,\n          (settings.interpolate || noMatch).source,\n          (settings.evaluate || noMatch).source\n        ].join(\"|\") + \"|$\",\n        \"g\"\n      );\n\n      // Compile the template source, escaping string literals appropriately.\n      var index = 0;\n      var source = \"__p+='\";\n      text.replace(matcher, function(\n        match,\n        escape,\n        interpolate,\n        evaluate,\n        offset\n      ) {\n        source += text.slice(index, offset).replace(escaper, function(match) {\n          return \"\\\\\" + escapes[match];\n        });\n\n        if (escape) {\n          source += \"'+\\n((__t=(\" + escape + \"))==null?'':_.escape(__t))+\\n'\";\n        }\n        if (interpolate) {\n          source += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\n        }\n        if (evaluate) {\n          source += \"';\\n\" + evaluate + \"\\n__p+='\";\n        }\n        index = offset + match.length;\n        return match;\n      });\n      source += \"';\\n\";\n\n      // If a variable is not specified, place data values in local scope.\n      if (!settings.variable) source = \"with(obj||{}){\\n\" + source + \"}\\n\";\n\n      source =\n        \"var __t,__p='',__j=Array.prototype.join,\" +\n        \"print=function(){__p+=__j.call(arguments,'');};\\n\" +\n        source +\n        \"return __p;\\n\";\n\n      try {\n        render = new Function(settings.variable || \"obj\", \"_\", source);\n      } catch (e) {\n        e.source = source;\n        throw e;\n      }\n\n      if (data) return render(data, _);\n      var template = function(data) {\n        return render.call(this, data, _);\n      };\n\n      // Provide the compiled function source as a convenience for precompilation.\n      template.source =\n        \"function(\" + (settings.variable || \"obj\") + \"){\\n\" + source + \"}\";\n\n      return template;\n    };\n\n    return _;\n  })({});\n\n  function redirect() {\n    if (location.hostname === \"tastejs.github.io\") {\n      location.href = location.href.replace(\n        \"tastejs.github.io/todomvc\",\n        \"todomvc.com\"\n      );\n    }\n  }\n\n  function findRoot() {\n    var base = location.href.indexOf(\"examples/\");\n    return location.href.substr(0, base);\n  }\n\n  function getFile(file, callback) {\n    if (!location.host) {\n      return console.info(\n        \"Miss the info bar? Run TodoMVC from a server to avoid a cross-origin error.\"\n      );\n    }\n\n    var xhr = new XMLHttpRequest();\n\n    xhr.open(\"GET\", findRoot() + file, true);\n    xhr.send();\n\n    xhr.onload = function() {\n      if (xhr.status === 200 && callback) {\n        callback(xhr.responseText);\n      }\n    };\n  }\n\n  function Learn(learnJSON, config) {\n    if (!(this instanceof Learn)) {\n      return new Learn(learnJSON, config);\n    }\n\n    var template, framework;\n\n    if (typeof learnJSON !== \"object\") {\n      try {\n        learnJSON = JSON.parse(learnJSON);\n      } catch (e) {\n        return;\n      }\n    }\n\n    if (config) {\n      template = config.template;\n      framework = config.framework;\n    }\n\n    if (!template && learnJSON.templates) {\n      template = learnJSON.templates.todomvc;\n    }\n\n    if (!framework && document.querySelector(\"[data-framework]\")) {\n      framework = document.querySelector(\"[data-framework]\").dataset.framework;\n    }\n\n    this.template = template;\n\n    if (learnJSON.backend) {\n      this.frameworkJSON = learnJSON.backend;\n      this.frameworkJSON.issueLabel = framework;\n      this.append({\n        backend: true\n      });\n    } else if (learnJSON[framework]) {\n      this.frameworkJSON = learnJSON[framework];\n      this.frameworkJSON.issueLabel = framework;\n      this.append();\n    }\n\n    this.fetchIssueCount();\n  }\n\n  Learn.prototype.append = function(opts) {\n    var aside = document.createElement(\"aside\");\n    aside.innerHTML = _.template(this.template, this.frameworkJSON);\n    aside.className = \"learn\";\n\n    if (opts && opts.backend) {\n      // Remove demo link\n      var sourceLinks = aside.querySelector(\".source-links\");\n      var heading = sourceLinks.firstElementChild;\n      var sourceLink = sourceLinks.lastElementChild;\n      // Correct link path\n      var href = sourceLink.getAttribute(\"href\");\n      sourceLink.setAttribute(\"href\", href.substr(href.lastIndexOf(\"http\")));\n      sourceLinks.innerHTML = heading.outerHTML + sourceLink.outerHTML;\n    } else {\n      // Localize demo links\n      var demoLinks = aside.querySelectorAll(\".demo-link\");\n      Array.prototype.forEach.call(demoLinks, function(demoLink) {\n        if (demoLink.getAttribute(\"href\").substr(0, 4) !== \"http\") {\n          demoLink.setAttribute(\n            \"href\",\n            findRoot() + demoLink.getAttribute(\"href\")\n          );\n        }\n      });\n    }\n\n    document.body.className = (document.body.className + \" learn-bar\").trim();\n    document.body.insertAdjacentHTML(\"afterBegin\", aside.outerHTML);\n  };\n\n  Learn.prototype.fetchIssueCount = function() {\n    var issueLink = document.getElementById(\"issue-count-link\");\n    if (issueLink) {\n      var url = issueLink.href.replace(\n        \"https://github.com\",\n        \"https://api.github.com/repos\"\n      );\n      var xhr = new XMLHttpRequest();\n      xhr.open(\"GET\", url, true);\n      xhr.onload = function(e) {\n        var parsedResponse = JSON.parse(e.target.responseText);\n        if (parsedResponse instanceof Array) {\n          var count = parsedResponse.length;\n          if (count !== 0) {\n            issueLink.innerHTML = \"This app has \" + count + \" open issues\";\n            document.getElementById(\"issue-count\").style.display = \"inline\";\n          }\n        }\n      };\n      xhr.send();\n    }\n  };\n\n  redirect();\n  getFile(\"learn.json\", Learn);\n})();\n"]}